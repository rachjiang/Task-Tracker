{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rachel/Projects/nuArch-todo-app/todo-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rachel/Projects/nuArch-todo-app/todo-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rachel/Projects/nuArch-todo-app/todo-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useEffect,useState}from\"react\";import{Link}from'react-router-dom';import EditTodo from\"./EditTodo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListTodos(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];function getAllTodos(){return _getAllTodos.apply(this,arguments);}function _getAllTodos(){_getAllTodos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_todos;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:3000/todos\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:_todos=_context.sent;setTodos(_todos);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return _getAllTodos.apply(this,arguments);}function handleDelete(_x){return _handleDelete.apply(this,arguments);}function _handleDelete(){_handleDelete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var deleteTodo;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://localhost:3000/todos/\".concat(id),{method:\"DELETE\"});case 3:deleteTodo=_context2.sent;setTodos(todos.filter(function(todo){return todo.todo_id!==id;}));_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return _handleDelete.apply(this,arguments);}function handleCheckboxChange(id,event){setTodos(todos.map(function(todo){if(todo.todo_id===id){todo.completed=!todo.completed;}return todo;}));}useEffect(function(){getAllTodos();},[]);console.log(todos);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-light table-striped table-bordered border-dark text-center\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"h3 font-weight-bold\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tasks\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Update\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Remove\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:todos.map(function(todo){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"mx-5\",type:\"checkbox\",checked:todo.completed,onChange:function onChange(event){return handleCheckboxChange(todo.todo_id,event);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/todos/\".concat(todo.todo_id),children:todo.description})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(EditTodo,{todo:todo})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger\",onClick:function onClick(){return handleDelete(todo.todo_id);},children:\"Delete\"})})]},todo.todo_id);})})]})})});}export default ListTodos;","map":{"version":3,"names":["React","Fragment","useEffect","useState","Link","EditTodo","jsx","_jsx","jsxs","_jsxs","ListTodos","_useState","_useState2","_slicedToArray","todos","setTodos","getAllTodos","_getAllTodos","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_todos","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","console","error","stop","handleDelete","_x","_handleDelete","_callee2","id","deleteTodo","_callee2$","_context2","concat","method","filter","todo","todo_id","handleCheckboxChange","event","map","completed","log","children","className","type","checked","onChange","to","description","onClick"],"sources":["/Users/rachel/Projects/nuArch-todo-app/todo-app/client/src/components/ListTodos.js"],"sourcesContent":["import React, { Fragment, useEffect,useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport EditTodo from \"./EditTodo\"\n\nfunction ListTodos () {\n    const [todos, setTodos] = useState([]);\n\n    async function getAllTodos () {\n        try {\n            const response = await fetch(\"http://localhost:3000/todos\")\n            const todos = await response.json();\n            setTodos(todos); \n        }\n        catch (err) {\n            console.error(err);\n        }\n    }\n\n    async function handleDelete (id) {\n        try {\n            // eslint-disable-next-line no-unused-vars\n            const deleteTodo = await fetch(`http://localhost:3000/todos/${id}`, {\n                method: \"DELETE\",\n\n            })\n            setTodos(todos.filter(todo => todo.todo_id !== id));\n        }\n        catch (err) {\n            console.error(err);\n        }\n    }\n\n    function handleCheckboxChange (id, event) {\n        setTodos(todos.map(todo => {\n            if (todo.todo_id === id) {\n                todo.completed = !todo.completed;\n            }\n            return todo;\n        }))\n    }\n\n    useEffect(() => {\n        getAllTodos();\n    }, []);\n\n    console.log(todos)\n\n    return (\n        <Fragment>\n            <div className=\"container\">\n                <table className=\"table table-light table-striped table-bordered border-dark text-center\">\n                    <thead>\n                        <tr className=\"h3 font-weight-bold\">\n                            <th>Status</th>\n                            <th>Tasks</th>\n                            <th>Update</th>\n                            <th>Remove</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {todos.map(todo => (\n                        <tr key={todo.todo_id}>\n                            <td><input className=\"mx-5\" type=\"checkbox\" checked={todo.completed} onChange={(event) => handleCheckboxChange(todo.todo_id, event)} /></td>\n                            <td><Link to={`/todos/${todo.todo_id}`}>{todo.description}</Link></td>\n                            <td><EditTodo todo={todo}/></td>\n                            <td><button type=\"submit\" className=\"btn btn-danger\" onClick={() => handleDelete(todo.todo_id)}>Delete</button></td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n            </div>\n        </Fragment>\n    )\n}\n\nexport default ListTodos;"],"mappings":"obAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAACC,QAAQ,KAAQ,OAAO,CAC3D,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,QAAQ,KAAM,YAAY,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjC,QAAS,CAAAC,SAASA,CAAA,CAAI,CAClB,IAAAC,SAAA,CAA0BR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAAiB,QAExB,CAAAI,WAAWA,CAAA,SAAAC,YAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,aAAA,EAAAA,YAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA1B,SAAAC,QAAA,MAAAC,QAAA,CAAAC,MAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAE+B,CAAAC,KAAK,CAAC,6BAA6B,CAAC,QAArDP,QAAQ,CAAAI,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,SACM,CAAAN,QAAQ,CAACS,IAAI,EAAE,QAA7BnB,MAAK,CAAAc,QAAA,CAAAI,IAAA,CACXjB,QAAQ,CAACD,MAAK,CAAC,CAACc,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,aAGhBO,OAAO,CAACC,KAAK,CAAAR,QAAA,CAAAM,EAAA,CAAK,CAAC,yBAAAN,QAAA,CAAAS,IAAA,MAAAd,OAAA,iBAE1B,UAAAN,YAAA,CAAAC,KAAA,MAAAC,SAAA,WAEc,CAAAmB,YAAYA,CAAAC,EAAA,SAAAC,aAAA,CAAAtB,KAAA,MAAAC,SAAA,YAAAqB,cAAA,EAAAA,aAAA,CAAApB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA3B,SAAAmB,SAA6BC,EAAE,MAAAC,UAAA,QAAAtB,mBAAA,GAAAK,IAAA,UAAAkB,UAAAC,SAAA,iBAAAA,SAAA,CAAAhB,IAAA,CAAAgB,SAAA,CAAAf,IAAA,SAAAe,SAAA,CAAAhB,IAAA,GAAAgB,SAAA,CAAAf,IAAA,SAGE,CAAAC,KAAK,gCAAAe,MAAA,CAAgCJ,EAAE,EAAI,CAChEK,MAAM,CAAE,QAEZ,CAAC,CAAC,QAHIJ,UAAU,CAAAE,SAAA,CAAAb,IAAA,CAIhBjB,QAAQ,CAACD,KAAK,CAACkC,MAAM,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,OAAO,GAAKR,EAAE,GAAC,CAAC,CAACG,SAAA,CAAAf,IAAA,iBAAAe,SAAA,CAAAhB,IAAA,GAAAgB,SAAA,CAAAX,EAAA,CAAAW,SAAA,aAGpDV,OAAO,CAACC,KAAK,CAAAS,SAAA,CAAAX,EAAA,CAAK,CAAC,yBAAAW,SAAA,CAAAR,IAAA,MAAAI,QAAA,gBAE1B,UAAAD,aAAA,CAAAtB,KAAA,MAAAC,SAAA,GAED,QAAS,CAAAgC,oBAAoBA,CAAET,EAAE,CAAEU,KAAK,CAAE,CACtCrC,QAAQ,CAACD,KAAK,CAACuC,GAAG,CAAC,SAAAJ,IAAI,CAAI,CACvB,GAAIA,IAAI,CAACC,OAAO,GAAKR,EAAE,CAAE,CACrBO,IAAI,CAACK,SAAS,CAAG,CAACL,IAAI,CAACK,SAAS,CACpC,CACA,MAAO,CAAAL,IAAI,CACf,CAAC,CAAC,CAAC,CACP,CAEA/C,SAAS,CAAC,UAAM,CACZc,WAAW,EAAE,CACjB,CAAC,CAAE,EAAE,CAAC,CAENmB,OAAO,CAACoB,GAAG,CAACzC,KAAK,CAAC,CAElB,mBACIP,IAAA,CAACN,QAAQ,EAAAuD,QAAA,cACLjD,IAAA,QAAKkD,SAAS,CAAC,WAAW,CAAAD,QAAA,cACtB/C,KAAA,UAAOgD,SAAS,CAAC,wEAAwE,CAAAD,QAAA,eACrFjD,IAAA,UAAAiD,QAAA,cACI/C,KAAA,OAAIgD,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAC/BjD,IAAA,OAAAiD,QAAA,CAAI,QAAM,EAAK,cACfjD,IAAA,OAAAiD,QAAA,CAAI,OAAK,EAAK,cACdjD,IAAA,OAAAiD,QAAA,CAAI,QAAM,EAAK,cACfjD,IAAA,OAAAiD,QAAA,CAAI,QAAM,EAAK,GACd,EACD,cACRjD,IAAA,UAAAiD,QAAA,CACC1C,KAAK,CAACuC,GAAG,CAAC,SAAAJ,IAAI,qBACXxC,KAAA,OAAA+C,QAAA,eACIjD,IAAA,OAAAiD,QAAA,cAAIjD,IAAA,UAAOkD,SAAS,CAAC,MAAM,CAACC,IAAI,CAAC,UAAU,CAACC,OAAO,CAAEV,IAAI,CAACK,SAAU,CAACM,QAAQ,CAAE,SAAAA,SAACR,KAAK,QAAK,CAAAD,oBAAoB,CAACF,IAAI,CAACC,OAAO,CAAEE,KAAK,CAAC,EAAC,EAAG,EAAK,cAC5I7C,IAAA,OAAAiD,QAAA,cAAIjD,IAAA,CAACH,IAAI,EAACyD,EAAE,WAAAf,MAAA,CAAYG,IAAI,CAACC,OAAO,CAAG,CAAAM,QAAA,CAAEP,IAAI,CAACa,WAAW,EAAQ,EAAK,cACtEvD,IAAA,OAAAiD,QAAA,cAAIjD,IAAA,CAACF,QAAQ,EAAC4C,IAAI,CAAEA,IAAK,EAAE,EAAK,cAChC1C,IAAA,OAAAiD,QAAA,cAAIjD,IAAA,WAAQmD,IAAI,CAAC,QAAQ,CAACD,SAAS,CAAC,gBAAgB,CAACM,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAzB,YAAY,CAACW,IAAI,CAACC,OAAO,CAAC,EAAC,CAAAM,QAAA,CAAC,QAAM,EAAS,EAAK,GAJ/GP,IAAI,CAACC,OAAO,CAKhB,EACR,CAAC,EACM,GACJ,EACN,EACC,CAEnB,CAEA,cAAe,CAAAxC,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}