{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rachel/Projects/nuArch-todo-app/todo-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rachel/Projects/nuArch-todo-app/todo-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rachel/Projects/nuArch-todo-app/todo-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable no-unused-vars */import React,{Fragment,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditTodo(props){var _useState=useState(props.todo.description),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];var _useState3=useState(props.todo),_useState4=_slicedToArray(_useState3,2),todo=_useState4[0],setTodos=_useState4[1];function handleDescriptionChange(event){setDescription(event.target.value);};function handleUpdates(_x,_x2){return _handleUpdates.apply(this,arguments);}function _handleUpdates(){_handleUpdates=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id,event){var body,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;body={description:description};// new description from event input changes, set in line 8\n_context.next=5;return fetch(\"http://localhost:5000/todos/\".concat(id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 5:response=_context.sent;window.location=\"/\";_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return _handleUpdates.apply(this,arguments);}return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-info\",\"data-toggle\":\"modal\",\"data-target\":\"#id\".concat(todo.todo_id),children:\"Edit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",tabIndex:\"-1\",role:\"dialog\",id:\"id\".concat(todo.todo_id),children:[\" \",/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:\"Make changes to the to-do\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:description,onChange:handleDescriptionChange})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:function onClick(event){return handleUpdates(todo.todo_id,event);},children:\"Save changes\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-dismiss\":\"modal\",children:\"Close\"})]})]})})]})]});}export default EditTodo;","map":{"version":3,"names":["React","Fragment","useState","jsx","_jsx","jsxs","_jsxs","EditTodo","props","_useState","todo","description","_useState2","_slicedToArray","setDescription","_useState3","_useState4","setTodos","handleDescriptionChange","event","target","value","handleUpdates","_x","_x2","_handleUpdates","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","body","response","wrap","_callee$","_context","prev","next","preventDefault","fetch","concat","method","headers","JSON","stringify","sent","window","location","t0","console","error","stop","children","type","className","todo_id","tabIndex","role","onChange","onClick"],"sources":["/Users/rachel/Projects/nuArch-todo-app/todo-app/client/src/components/EditTodo.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { Fragment, useState } from 'react';\n\n\nfunction EditTodo (props) {\n    const [description, setDescription] = useState(props.todo.description)\n    const [todo, setTodos] = useState(props.todo)\n\n    function handleDescriptionChange (event) {\n        setDescription(event.target.value);\n    };\n\n    async function handleUpdates (id, event) {\n        event.preventDefault();\n        try {\n            const body = { description }; // new description from event input changes, set in line 8\n            const response = await fetch(`http://localhost:5000/todos/${id}`, {\n                method: \"PUT\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(body) \n            })\n            window.location = \"/\";\n        }\n        catch (err) {\n            console.error(err);\n        }\n    }\n\n        return (\n            <Fragment>\n            <button type=\"button\" className=\"btn btn-info\" data-toggle=\"modal\" data-target={`#id${todo.todo_id}`}>\n            Edit\n            </button>\n    \n            <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id={`id${todo.todo_id}`}> {/* defining unique modal for each id*/}\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\">Make changes to the to-do</h5>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <input type=\"text\" className=\"form-control\" value={description} onChange={handleDescriptionChange}/>\n                    </div>\n                    <div className=\"modal-footer\">\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={(event) => handleUpdates(todo.todo_id, event)}>Save changes</button>\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                    </div>\n                    </div>\n                </div>\n            </div>\n        </Fragment> \n        )\n}\n\nexport default EditTodo;"],"mappings":"obAAA,mCACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGlD,QAAS,CAAAC,QAAQA,CAAEC,KAAK,CAAE,CACtB,IAAAC,SAAA,CAAsCP,QAAQ,CAACM,KAAK,CAACE,IAAI,CAACC,WAAW,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAA/DE,WAAW,CAAAC,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAAyBb,QAAQ,CAACM,KAAK,CAACE,IAAI,CAAC,CAAAM,UAAA,CAAAH,cAAA,CAAAE,UAAA,IAAtCL,IAAI,CAAAM,UAAA,IAAEC,QAAQ,CAAAD,UAAA,IAErB,QAAS,CAAAE,uBAAuBA,CAAEC,KAAK,CAAE,CACrCL,cAAc,CAACK,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACtC,CAAC,CAAC,QAEa,CAAAC,aAAaA,CAAAC,EAAA,CAAAC,GAAA,SAAAC,cAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,eAAA,EAAAA,cAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA5B,SAAAC,QAA8BC,EAAE,CAAEb,KAAK,MAAAc,IAAA,CAAAC,QAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACnCpB,KAAK,CAACqB,cAAc,EAAE,CAACH,QAAA,CAAAC,IAAA,GAEbL,IAAI,CAAG,CAAEtB,WAAW,CAAXA,WAAY,CAAC,CAAE;AAAA0B,QAAA,CAAAE,IAAA,SACP,CAAAE,KAAK,gCAAAC,MAAA,CAAgCV,EAAE,EAAI,CAC9DW,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CX,IAAI,CAAEY,IAAI,CAACC,SAAS,CAACb,IAAI,CAC7B,CAAC,CAAC,QAJIC,QAAQ,CAAAG,QAAA,CAAAU,IAAA,CAKdC,MAAM,CAACC,QAAQ,CAAG,GAAG,CAACZ,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAa,EAAA,CAAAb,QAAA,aAGtBc,OAAO,CAACC,KAAK,CAAAf,QAAA,CAAAa,EAAA,CAAK,CAAC,yBAAAb,QAAA,CAAAgB,IAAA,MAAAtB,OAAA,gBAE1B,UAAAN,cAAA,CAAAC,KAAA,MAAAC,SAAA,GAEG,mBACIrB,KAAA,CAACL,QAAQ,EAAAqD,QAAA,eACTlD,IAAA,WAAQmD,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,cAAc,CAAC,cAAY,OAAO,CAAC,oBAAAd,MAAA,CAAmBhC,IAAI,CAAC+C,OAAO,CAAG,CAAAH,QAAA,CAAC,MAEtG,EAAS,cAEThD,KAAA,QAAKkD,SAAS,CAAC,OAAO,CAACE,QAAQ,CAAC,IAAI,CAACC,IAAI,CAAC,QAAQ,CAAC3B,EAAE,MAAAU,MAAA,CAAOhC,IAAI,CAAC+C,OAAO,CAAG,CAAAH,QAAA,EAAC,GAAC,cACzElD,IAAA,QAAKoD,SAAS,CAAC,cAAc,CAACG,IAAI,CAAC,UAAU,CAAAL,QAAA,cACzChD,KAAA,QAAKkD,SAAS,CAAC,eAAe,CAAAF,QAAA,eAC9BhD,KAAA,QAAKkD,SAAS,CAAC,cAAc,CAAAF,QAAA,eACzBlD,IAAA,OAAIoD,SAAS,CAAC,aAAa,CAAAF,QAAA,CAAC,2BAAyB,EAAK,cAC1DlD,IAAA,WAAQmD,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,OAAO,CAAC,eAAa,OAAO,CAAC,aAAW,OAAO,CAAAF,QAAA,cAC/ElD,IAAA,SAAM,cAAY,MAAM,CAAAkD,QAAA,CAAC,MAAO,EAAO,EAC9B,GACP,cACNlD,IAAA,QAAKoD,SAAS,CAAC,YAAY,CAAAF,QAAA,cACvBlD,IAAA,UAAOmD,IAAI,CAAC,MAAM,CAACC,SAAS,CAAC,cAAc,CAACnC,KAAK,CAAEV,WAAY,CAACiD,QAAQ,CAAE1C,uBAAwB,EAAE,EAClG,cACNZ,KAAA,QAAKkD,SAAS,CAAC,cAAc,CAAAF,QAAA,eACzBlD,IAAA,WAAQmD,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,iBAAiB,CAACK,OAAO,CAAE,SAAAA,QAAC1C,KAAK,QAAK,CAAAG,aAAa,CAACZ,IAAI,CAAC+C,OAAO,CAAEtC,KAAK,CAAC,EAAC,CAAAmC,QAAA,CAAC,cAAY,EAAS,cAC/HlD,IAAA,WAAQmD,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,mBAAmB,CAAC,eAAa,OAAO,CAAAF,QAAA,CAAC,OAAK,EAAS,GACrF,GACA,EACJ,GACJ,GACC,CAEnB,CAEA,cAAe,CAAA/C,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}